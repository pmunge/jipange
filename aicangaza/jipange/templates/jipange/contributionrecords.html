{% extends 'jipange/base.html'%}
{%block content%}

<body>
  <div class="container">
  <h1>Contributions</h1>
  <a href="{% url 'member_list' %}">List of Members</a>
  <a href="{% url 'add_contribution' %}">Add Contribution</a>
  <a href="{% url 'event_list' %}">List of Events</a>
  </div>
  <div class="members_list">
     <table class="table table-light table-hover">
       <thead class="table-dark">
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Contributions</th>
            <th scope="col">Date</th>
            <th scope="col">Event</th>
           </tr>
       </thead>
       <tbody>
           {% for member in members %}
           <tr>
           <td>{{ member.name }}</td>
           <td>
              <ul>
                  {% for contribution in member.contribution_list %}
                      <li>{{ contribution.amount }}</li>
                  {% empty %}
                      <li>No contributions recorded</li>
                  {% endfor %}
              </ul>
           </td>
           <td>
            <ul>
              {% for contribution in member.contribution_list %}
                <li>{{ contribution.date }}</li>
              {% empty %}
                <li>No contributions recorded</li>
              {% endfor %}
            </ul>
          </td>
          <td>
            <ul>
              {% for contribution in member.contribution_list %}
                <li>{{ contribution.event }}</li>
              {% empty %}
                <li>No contributions recorded</li>
              {% endfor %}
            </ul>
          </td>
           </tr>
           {% empty %}
           <tr>
           <td colspan="2">No members found.</td>
           </tr>
           {% endfor %}
        </tbody>
      </table>
      </div>
</body>
{%endblock%}
